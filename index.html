<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">


    <title>Weather Dashboard</title>
</head>

<body>
    <header class="nav justify-content-center bg-dark">
        <li class="nav-item" href="#" style="color: white">
            <h1>Weather Dashboard</h1>
        </li>
    </header>

    <div class="row">
        <div class="col-4">
            <div>
                <label for="searchInput" class="content"><b>Search for a City:</label>
                <div class="input-group content">
                    <input id="searchInput" class="form-control" placeholder="City">
                    <button onClick="input(event)" class="btn btn-primary">Search</button>
                </div>
                <div id="saved" class="d-grid gap-2"></div>
                <div class="cityList">
                    <div id="text" class="col-8">
                    </div>
                </div>
            </div>
            <script>
                let cityData
                // let searchInput = localStorage.getItem()
                let x = 0 
                let history = Array()

                function input(event){
                    event.preventDefault()
                    // var id = Number(event.target.id)
                    // console.log(id)
                    // var value = document.querySelector("#searchInput").value
                    // console.log(value)
                    history[x] = document.querySelector("#searchInput").value; x++;
                    document.querySelector("#searchInput").value=""
                    console.log(x)
                    for (i=0; i<history.length; i++){
                        document.querySelector("#saved").innerHTML += `<button class="btn btn-primary">Button</button>`

                    }
                }


                // function




                async function weather(city) {
                    const fetchUrl = "http://api.openweathermap.org/data/2.5/weather?appid=327fecee9f6fad805256a047aec1915c&q=" + city
                    
                    console.log(`..fetching from ${fetchUrl}`)
                    cityData = await fetch(fetchUrl).then(r => r.json())
                    console.log(`.fetched city data;`, cityData)
                    console.log(`..showing city data`)

                    // let dataLength = cityData.list.length
                    // for (i = 0; i < dataLength; i++) {
                    //     let url = cityData.list[i].weather
                    //     console.log(`list: ${url}`)
                    //     document.querySelector("#cityList").innerHTML += `
                    //     <div class="card" style="width: 18rem;">
                    //         <img src="${url}" class="card-img-top">
                    //         <div class="card-body">
                    //             <h5 class="card-title">Card title</h5>
                    //         </div>
                    //     </div>
                    //         `
                    // }


                }
                weather("toronto")
            </script>
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
                crossorigin="anonymous"></script>
</body>

</html>